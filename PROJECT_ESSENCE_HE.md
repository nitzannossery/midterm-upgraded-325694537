# מהות הפרויקט - Financial Analysis Multi-Agent System

## תמצית הפרויקט

פרויקט זה הוא **מערכת מולטי-אג'נט לניתוח פיננסי** המבוססת על בינה מלאכותית, הכוללת מסגרת הערכה מקיפה ברמת ייצור.

---

## מטרת הפרויקט העיקרית

**בניית מערכת חכמה לניתוח פיננסי** המסוגלת:
- לנתח נתוני שוק
- לבדוק יסודות פיננסיים
- להעריך סיכונים
- להציע המלצות השקעה

כל זאת באמצעות **מספר סוכנים (Agents) מתמחים** הפועלים יחד תחת אורכיסטרטור מרכזי.

---

## ארכיטקטורת המערכת

### מבנה המערכת:

```
משתמש
  ↓
אורכיסטרטור (Orchestrator)
  ↓
┌─────────────────────────────────────┐
│  סוכנים מתמחים (Specialized Agents) │
└─────────────────────────────────────┘
  ├── Market Data Agent
  ├── Fundamental & News Agent
  ├── Portfolio & Risk Agent
  └── Summarizer (Final Answer)
  ↓
תשובה סופית (Aggregation / Summary)
```

---

## הסוכנים (Agents) במערכת

### 1. **Market Data Agent** (סוכן נתוני שוק)
**תפקיד:**
- אחזור מחירים, נפחי מסחר, תשואות
- נתוני בנצ'מרק (מדדי השוק)
- שערי חליפין (FX)
- נרמול נתונים טמפורליים

**דוגמאות שאילתות:**
- "מה התשואה היומית של AAPL בין 2024-01-02 ל-2024-01-03?"
- "מה שער החליפין USD/EUR ב-2024-02-01?"
- "מה הוולטיליות של SPY ב-30 הימים האחרונים?"

### 2. **Fundamental & News Agent** (סוכן יסודות וחדשות)
**תפקיד:**
- אחזור דוחות כספיים (דוח רווח והפסד, מאזן, תזרים מזומנים)
- חישוב יחסים פיננסיים (P/E, ROE, Debt-to-Equity)
- ניתוח סנטימנט חדשות
- בדיקת עקביות נתונים

**דוגמאות שאילתות:**
- "מה ההכנסה של MSFT ב-FY2023?"
- "מה שולי הרווח הגולמי של NVDA?"
- "האם Apple דיווחה על צמיחה חיובית ב-Q4 2023?"

### 3. **Portfolio & Risk Agent** (סוכן תיק השקעות וסיכון)
**תפקיד:**
- חישוב מדדי סיכון (וולטיליות, VaR, מקסימום נפילה)
- אופטימיזציה של תיק השקעות
- בדיקת אילוצים (פרופיל סיכון, אופק זמן)
- סימולציות (Monte Carlo, Stress Tests)

**דוגמאות שאילתות:**
- "חשב את הוולטיליות של תיק 50% AAPL, 50% MSFT"
- "האם התיק מפר אילוץ מקסימום וולטיליות של 15%?"
- "חשב את מקסימום הנפילה של תיק 60/40 (SPY/BND) ב-2022"

### 4. **Summarizer Agent** (סוכן סיכום והמלצה סופית)
**תפקיד:**
- סינתזה של כל התשובות מהסוכנים
- יצירת המלצת השקעה קוהרנטית
- שילוב תובנות כמותיות, איכותיות וסיכון
- הצגת תשובה סופית למשתמש

**דוגמאות שאילתות:**
- "האם כדאי להשקיע ב-AAPL? שקול נתוני שוק, יסודות וסיכון"
- "השווה AAPL ו-MSFT כאופציות השקעה"
- "מה התחזית להשקעה במגזר הטכנולוגיה?"

---

## מתודולוגיית ReAct (Reasoning Before Acting)

כל סוכן פועל לפי עקרון **"חשיבה לפני פעולה"**:

### Market Data Agent:
1. **חשיבה**: מזהה סמלים, בנצ'מרקים, אופק זמן, איכות נתונים
2. **פעולה**: אוסף נתונים, מנרמל, ממלא חסרים

### Fundamental Agent:
1. **חשיבה**: מזהה יחסים מרכזיים, תקופות דיווח
2. **פעולה**: מנתח דוחות, מחשב יחסים, בודק סנטימנט

### Portfolio Agent:
1. **חשיבה**: בודק אילוצים, סובלנות לסיכון
2. **פעולה**: מחשב מדדי סיכון, מייצר המלצות

---

## מסגרת ההערכה (Evaluation Framework)

### זהו החלק המרכזי של הפרויקט!

הפרויקט כולל **מערכת הערכה מקיפה** עם **175+ מקרי בדיקה**:

### 1. **Hard Evaluations** (הערכות דטרמיניסטיות)
- **75 בדיקות** עם תשובות נכונות מדויקות
- בדיקת חישובים, ערכים מספריים, טולרנס
- דוגמה: "תשואה יומית = 0.0123 ± 0.0001"

### 2. **Retrieval Evaluations** (הערכות אחזור/RAG)
- **12 בדיקות** לבדיקת אחזור מסמכים
- וידוא ציטוטים, מקורות, הימנעות מהזיות
- דוגמה: "לפי דוח הרווח, מה ההכנסה התפעולית של Amazon?"

### 3. **LLM-Based Evaluations** (הערכות מבוססות LLM)
- **60 בדיקות** עם LLM-as-Judge
- ניקוד לפי: נכונות, שלמות, נאמנות, בהירות, מודעות לסיכון
- דוגמה: "הצע תיק השקעות למשקיע שמרני והסבר tradeoffs"

### 4. **Human Evaluations** (הערכות אנושיות)
- **28 בדיקות** על ידי מעריכים אנושיים
- ניקוד לפי: שימושיות, אמינות, איכות הנמקה, ביטחון בהחלטה

---

## תכונות מרכזיות

### ✅ איכות ייצור (Production-Grade)
- קוד מוכן לייצור
- טיפול בשגיאות מקיף
- לוגים מלאים
- CI/CD integration

### ✅ מניעת הזיות (No Hallucinations)
- מדיניות קפדנית נגד המצאת נתונים
- בדיקות נאמנות מחמירות
- דרישה לציטוט מקורות

### ✅ שחזוריות (Reproducibility)
- בדיקות דטרמיניסטיות
- תיעוד מלא
- עקבות ביקורת (audit trails)

### ✅ תקנים אקדמיים
- מתודולוגיה קפדנית
- תיעוד מקיף
- מבנה ברור

---

## תוצאות הפרויקט

### קבצים שנוצרו:
- ✅ **4 רצים להערכה** (Hard, Retrieval, LLM, Human)
- ✅ **175+ מקרי בדיקה** (YAML, JSONL, CSV)
- ✅ **תצורת מרכזית** (YAML)
- ✅ **דוחות אוטומטיים** (JSON, Markdown)
- ✅ **CI/CD Pipeline** (GitHub Actions)
- ✅ **תיעוד מקיף** (README, Guides, Reports)

### כיסוי בדיקות:
| סוכן | Hard | Retrieval | LLM | Human | **סה"כ** |
|------|------|-----------|-----|-------|----------|
| Market Data | 25 | - | 15 | 7 | **47** |
| Fundamental | 25 | 12 | 15 | 7 | **59** |
| Portfolio | 25 | - | 15 | 7 | **47** |
| Summarizer | 0 | - | 15 | 7 | **22** |
| **סה"כ** | **75** | **12** | **60** | **28** | **175** |

---

## שימושיות הפרויקט

### עבור משתמשים:
- **המלצות השקעה מבוססות נתונים**
- **ניתוח סיכונים מקיף**
- **תובנות מנתוני שוק ויסודות**

### עבור מפתחים:
- **מסגרת הערכה מוכנה**
- **תבניות וכלים**
- **תיעוד מלא**

### עבור אקדמיה:
- **מתודולוגיה קפדנית**
- **שחזוריות מלאה**
- **תיעוד אקדמי**

---

## סיכום

**מהות הפרויקט:**
מערכת מולטי-אג'נט חכמה לניתוח פיננסי, המלווה במסגרת הערכה מקיפה ורבת-שכבות (Hard, Retrieval, LLM, Human) עם 175+ מקרי בדיקה, מוכנה לייצור ומותאמת לתקנים אקדמיים.

**הערך המוסף:**
לא רק מערכת פועלת, אלא גם **מערכת הערכה מלאה** המאפשרת:
- בדיקת איכות
- שיפור מתמיד
- אמון בתוצאות
- שחזוריות מלאה

---

**סטטוס**: ✅ **מוכן לייצור ולשימוש**
